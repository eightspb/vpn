---
description: Обязательное правило: изменения через скрипты, тесты, обновление документации при изменениях
alwaysApply: true
---

# Скрипты и деплой — системное правило проекта

## Запрещено

- Вносить изменения **отдельными командами** (ни локально, ни на сервере).
- Выполнять команды по одной вместо целостного решения.

## Обязательный подход

1. **Готовый скрипт**  
   Любые изменения выполняются через **подготовленный скрипт**: либо модернизировать существующий (например `deploy.sh`, `deploy-vps1.sh`, `deploy-vps2.sh`, `deploy-proxy.sh`), либо создать новый скрипт и запускать его.

2. **Комплексность**  
   Действовать комплексно: создать полноценную программу/скрипт и запустить её. Скрипты можно протестировать перед применением.

3. **Тесты**  
   К **каждому** скрипту должны быть тесты (отдельный тест-скрипт или сценарии в `tests/`), чтобы перед публикацией/запуском проверять корректность.

4. **Документация**  
   При любых изменениях, затрагивающих то, что описано в документации (README, комментарии, правила, конфиги и т.п.), документацию **обязательно** обновлять. Это правило распространяется на всех участников проекта.

## Что делать при запросе на изменения

- Предложить или создать скрипт (обновить `deploy.sh` или добавить новый).
- Помочь с созданием скрипта и затем запустить его целиком, а не выполнять команды по одной.
- Добавить или обновить тесты для затронутого скрипта.
- Обновить документацию, если изменения затрагивают описанное в ней.

## Итог

Изменения = подготовленный скрипт + тесты + обновлённая документация (при необходимости) + один запуск скрипта. Не выполнять команды по одиночке. Документация всегда должна соответствовать фактическому состоянию проекта.
